<html>
<head>
    <title>Mcalc</title>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <script src='file:///android_asset/app.js'></script>
    <link rel="stylesheet" type="text/css" href="styles/style.css"/>
</head>
<body onload="app.Start()">
    <header>
        <p>Метрологический калькулятор</p>
    </header>
    <!-- <nav>
    </nav> -->
    <main>
        <section id=main>
            <button id=btn_export>Сохранить в *.xlsx</button>
            <div class=flex_style>
                <button id=btn_add_mi>Добавить СИ</button>
                <button id=btn_edit_mi>Изменить СИ</button>
                <button id=btn_del_mi>Удалить СИ</button>
            </div>
            <button id=btn_filter>Показать/скрыть фильтр</button>
            <section id=filter class=hidden>
                <header>
                    <p>Параметры фильтрации</p>
                </header>
                <div class=flex_style>
                    <button id=btn_apply_filter>Применить</button>
                    <button id=btn_clear_filter>Сбросить</button>
                </div>
                <label>Дата</label>
                <div class=flex_style>
                    <span>с </span>
                    <input type=date id=filter_date_start>
                    <span> по </span>
                    <input type=date id=filter_date_end>
                </div>
                <label>Номер счета</label>
                <input type=text id=filter_count_number>
                <label>Тип СИ</label>
                <input type=text id=filter_mi_type>
                <label>Номер ГРСИ</label>
                <input type=text id=filter_mi_registry_number>
                <label>Зав. №</label>
                <input type=text id=filter_mi_number>
                <label>Собственник</label>
                <input type=text id=filter_mi_owner>
                <label>Вид поверки</label>
                <select id=filter_verification_type>
                    <option default></option>
                    <option>периодическая</option>
                    <option>первичная</option>
                </select>
                <label>Пригодность СИ</label>
                <select id=filter_applicability>
                    <option default></option>
                    <option>пригодно</option>
                    <option>непригодно</option>
                </select>
            </section>
            <header>
                <p>Результаты поверки</p>
            </header>
            <div id=pages_nav class=flex_style>
                <button id=btn_prev><<</button>
                <input type=text id=page_number value=1>
                <button id=btn_next>>></button>
            </div>
            <section id=records>

            </section>
        </section>
        <section id=delete_dialog class=hidden>
            <p>Удалить запись?</p>
            <div class=flex_style>
                <button id=btn_yes_del>Да</button>
                <button id=btn_no_del>Нет</button>
            </div>
        </section>
        <section id=measurements class=hidden>
            <div class=flex_style>
                <button id=btn_save_mi>Сохранить СИ</button>
                <button id=btn_cancel_mi>Отмена</button>
            </div>
            <section id=verification_info>
                <header>
                    <p>Информация о поверке</p>
                </header>
                <label>Дата поверки</label>
                <input type=date id=date>
                <label>Номер счета</label>
                <input type=text id=count_number>
                <label>Вид поверки</label>
                <select id=verification_type>
                    <option default>периодическая</option>
                    <option>первичная</option>
                </select>
                <label>Пригодность СИ</label>
                <select id=applicability>
                    <option default></option>
                    <option>пригодно</option>
                    <option>непригодно</option>
                </select>
            </section>
            <section id=mi_info>
                <header>
                    <p>Данные СИ</p>
                </header>
                <label>Тип СИ</label>
                <input type=text id=mi_type>
                <label>Регистрационный номер</label>
                <input type=text id=mi_registry_number> <!-- pattert='\d{4, 5}-\d{2}'> -->
                <label>Заводской номер</label>
                <input type=text id=mi_number>
                <label>Год выпуска</label>
                <input type=text id=mi_manufacture_year>
                <label>Собственник</label>
                <input type=text id=mi_owner>
            </section>
            <section id=measurement_data>
                <header>
                    <p>Измерение <span id=measurement_number>1</span></p>
                </header>
                <details>
                    <summary>Канал измерения *</summary>
                    <p class=info>Указывается наименование канала измерения. При
                    необходимости, через запятую указываются единицы измерения.</p>
                </details>
                <input type=text id=channel value=1>
                <label>Измеренное значение (Xi) *</label>
                <input type=text id=m_value>
                <label>Опорное значение (Xref)</label>
                <input type=text id=ref_value>
                <details>
                    <summary>Диапазон измерения (R)</summary>
                    <p class=info>Нижняя и верхняя границы диапазона
                    указываются через дефис, например:
                    '0-100', '20-100' и т. д.</p>
                </details>
                <input type=text id=range class=inline>
                <div class=flex_style>
                    <button id=btn_add_measure>Добавить</button>
                    <button id=btn_edit_measure>Изменить</button>
                    <button id=btn_del_measure>Удалить</button>
                </div>
            </section>
            <section>
                <header>
                    <p>Результаты измерений</p>
                </header>
                <div id=measurements_results>

                </div>
            </section>
        </section>
    </main>
    <footer>
        <address><p><abbr title='ФБУ "Государственный региональный 
            центр стандартизации, метрологии и испытаний в 
            Оренбургской области"'>Оренбургский ЦСМ</abbr> 2021 ©</p></address>
    </footer>
</body>

<script src="main.js"></script>
<script src="models/measurements.js"></script>
<script src="lib/metrology.js"></script>
<script src="lib/ui.js"></script>
<script src="lib/date.js"></script>
<script src="lib/xls.js"></script>
<script src="lib/xlsx.js"></script>
</html>
